"use strict";(self.webpackChunkfireERP=self.webpackChunkfireERP||[]).push([[632],{9632:(H,c,a)=>{a.r(c),a.d(c,{AuthModule:()=>$});var P=a(4977),l=a(1402),t=a(5e3),u=a(7093),p=a(3322);let f=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(r){return new(r||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-auth"]],decls:11,vars:0,consts:[["fxLayout","row","fxFlex","",1,"login"],["fxFlex","","fxHide","","fxShow.gt-xs","",1,"login-intro"],[1,"logo"],["alt","SixFace Logo","src","/../../assets/images/sixface-logo.png"],[1,"title"],[1,"description"],[1,"login-form-wrapper"],[1,"login-form"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t._UZ(3,"img",3),t.qZA(),t.TgZ(4,"div",4),t._uU(5,"SixFace ERP"),t.qZA(),t.TgZ(6,"div",5),t._uU(7," SixFace starter with a strong architecture, best practices and following the world style guide "),t.qZA(),t.qZA(),t.TgZ(8,"div",6),t.TgZ(9,"div",7),t._UZ(10,"router-outlet"),t.qZA(),t.qZA(),t.qZA())},directives:[u.xw,u.yH,p.b8,l.lC],styles:["[_nghost-%COMP%]{height:100%;min-height:100%;position:relative}.login[_ngcontent-%COMP%]{width:100%;overflow:hidden;background-size:cover}.login[_ngcontent-%COMP%]   .login-intro[_ngcontent-%COMP%]{padding:128px;color:gray}.login[_ngcontent-%COMP%]   .login-intro[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:100px}.login[_ngcontent-%COMP%]   .login-intro[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:42px;font-weight:300;line-height:1}.login[_ngcontent-%COMP%]   .login-intro[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{padding-top:16px;font-size:14px;max-width:600px;color:#000}.login[_ngcontent-%COMP%]   .login-form-wrapper[_ngcontent-%COMP%]{width:400px;min-width:400px;max-width:400px;background:#fff;overflow:auto;-webkit-overflow-scrolling:touch;box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f}.login[_ngcontent-%COMP%]   .login-form-wrapper[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]{padding:128px 48px 48px}@media screen and (max-width: 959px) and (min-width: 600px){.login[_ngcontent-%COMP%]   .login-intro[_ngcontent-%COMP%]{padding:128px 64px}.login[_ngcontent-%COMP%]   .login-form-wrapper[_ngcontent-%COMP%]{width:360px;min-width:360px;max-width:360px}}@media screen and (max-width: 599px){.login[_ngcontent-%COMP%]   .login-form-wrapper[_ngcontent-%COMP%]{width:100%;min-width:100%;max-width:100%}.login[_ngcontent-%COMP%]   .login-form-wrapper[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]{text-align:center;padding:24px}}"]}),o})();var i=a(3075),A=a(8746),M=a(7528),h=a(263),x=a(7261),d=a(7322),C=a(7531),_=a(9808),Z=a(7423),w=a(773);function O(o,n){1&o&&(t.TgZ(0,"mat-error",12),t._uU(1," Invalid Email "),t.qZA())}function b(o,n){1&o&&(t.TgZ(0,"mat-error",12),t._uU(1," Email is required "),t.qZA())}function q(o,n){1&o&&(t.TgZ(0,"mat-error",12),t._uU(1," Password is required "),t.qZA())}function U(o,n){1&o&&t._UZ(0,"mat-spinner",13),2&o&&t.Q6J("diameter",25)}let v=(()=>{class o{constructor(r,e,s,g){this.authService=r,this.formBuilder=e,this.router=s,this.snackBar=g,this.loginLoading=!1,this.initFormBuilder()}ngOnInit(){}loginUser(){this.loginLoading=!0,this.loginSubscription=this.authService.loginWithUserCredentials(this.form.value.email,this.form.value.password).pipe((0,A.x)(()=>this.loginLoading=!1)).subscribe(r=>{this.router.navigate(M.M.path())},r=>{this.snackBar.open("Contrase\xf1a o usuario incorrecto","",{duration:3e3,horizontalPosition:"end",verticalPosition:"bottom"})})}initFormBuilder(){this.form=this.formBuilder.group({email:["",[i.kI.required,i.kI.email]],password:["",i.kI.required]})}}return o.path=()=>["login"],o.\u0275fac=function(r){return new(r||o)(t.Y36(h.e),t.Y36(i.qu),t.Y36(l.F0),t.Y36(x.ux))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-login"]],decls:21,vars:7,consts:[["fxHide.gt-xs","",1,"logo"],[1,"title"],[3,"formGroup","ngSubmit"],[3,"disabled"],["matInput","","type","email","placeholder","Email","formControlName","email"],["class","form-control-feedback",4,"ngIf"],["matInput","","type","password","placeholder","Password","formControlName","password"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],[1,"redirection"],[1,"text"],["routerLink","/auth/register",1,"link"],["class","loading",3,"diameter",4,"ngIf"],[1,"form-control-feedback"],[1,"loading",3,"diameter"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0),t._uU(1,"A"),t.qZA(),t.TgZ(2,"div",1),t._uU(3,"LOGIN TO YOUR ACCOUNT"),t.qZA(),t.TgZ(4,"form",2),t.NdJ("ngSubmit",function(){return e.form.valid&&e.loginUser()}),t.TgZ(5,"fieldset",3),t.TgZ(6,"mat-form-field"),t._UZ(7,"input",4),t.YNc(8,O,2,0,"mat-error",5),t.YNc(9,b,2,0,"mat-error",5),t.qZA(),t.TgZ(10,"mat-form-field"),t._UZ(11,"input",6),t.YNc(12,q,2,0,"mat-error",5),t.qZA(),t.TgZ(13,"button",7),t._uU(14,"Login"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",8),t.TgZ(16,"span",9),t._uU(17,"Don't have an account?"),t.qZA(),t.TgZ(18,"a",10),t._uU(19,"Create an account"),t.qZA(),t.qZA(),t.YNc(20,U,1,1,"mat-spinner",11)),2&r&&(t.xp6(4),t.Q6J("formGroup",e.form),t.xp6(1),t.Q6J("disabled",e.loginLoading),t.xp6(3),t.Q6J("ngIf",e.form.controls.email.hasError("email")),t.xp6(1),t.Q6J("ngIf",e.form.controls.email.hasError("required")),t.xp6(3),t.Q6J("ngIf",e.form.controls.password.hasError("required")),t.xp6(1),t.Q6J("disabled",e.loginLoading||e.form.invalid),t.xp6(7),t.Q6J("ngIf",e.loginLoading))},directives:[p.b8,i._Y,i.JL,i.sg,d.KE,C.Nt,i.Fj,i.JJ,i.u,_.O5,d.TO,Z.lW,l.yS,w.$g],styles:[".logo[_ngcontent-%COMP%]{width:128px;height:128px;line-height:128px;font-size:86px;font-weight:500;text-align:center;margin:32px auto;color:#fff;border-radius:2px;background:#039be5}.title[_ngcontent-%COMP%]{font-size:21px}form[_ngcontent-%COMP%]{width:100%;padding-top:32px}form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin:20px auto;display:block}.redirection[_ngcontent-%COMP%]{flex-direction:column;box-sizing:border-box;display:flex;max-width:100%;place-content:center;align-items:center;margin:32px auto 24px;width:250px}.loading[_ngcontent-%COMP%]{margin:16px auto}@media screen and (max-width: 599px){form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:80%}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:80%}}"]}),o})();function I(o,n){1&o&&(t.TgZ(0,"mat-error",15),t._uU(1," Invalid Email "),t.qZA())}function y(o,n){1&o&&(t.TgZ(0,"mat-error",15),t._uU(1," Email is required "),t.qZA())}function E(o,n){1&o&&(t.TgZ(0,"mat-error",15),t._uU(1," C\xf3digo is required "),t.qZA())}function J(o,n){1&o&&(t.TgZ(0,"mat-error",15),t._uU(1," Password is required "),t.qZA())}function N(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Password must contain at least one "),t.TgZ(2,"strong"),t._uU(3," digit"),t.qZA(),t.qZA())}function R(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Password must contain at least one "),t.TgZ(2,"strong"),t._uU(3," lower case"),t.qZA(),t.qZA())}function S(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Password must contain at least one "),t.TgZ(2,"strong"),t._uU(3," uppercase case"),t.qZA(),t.qZA())}function Y(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Password must contain at least 1 "),t.TgZ(2,"strong"),t._uU(3,"[!@#$%^&*"),t.qZA(),t.qZA())}function L(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Password must contain at least 8 "),t.TgZ(2,"strong"),t._uU(3," characters"),t.qZA(),t.qZA())}function Q(o,n){1&o&&(t.TgZ(0,"mat-error",15),t._uU(1," Passwords must match "),t.qZA())}function z(o,n){1&o&&t._UZ(0,"mat-spinner",16),2&o&&t.Q6J("diameter",25)}class F{isErrorState(n,r){var e,s,g,m;const V=null===(s=null===(e=n.parent)||void 0===e?void 0:e.get("password"))||void 0===s?void 0:s.value,G=null===(m=null===(g=n.parent)||void 0===g?void 0:g.get("passwordConfirmation"))||void 0===m?void 0:m.value;return n&&n.dirty&&V!==G||n&&n.touched&&n.invalid}}let T=(()=>{class o{constructor(r,e,s,g,m){this.authService=r,this.formBuilder=e,this.snackBar=s,this.route=g,this.router=m,this.matcher=new F,this.initFormBuilder()}ngOnInit(){}registerUser(){this.registerSubscription=this.authService.register(this.form.value).subscribe(r=>{this.router.navigate([".."],{relativeTo:this.route}),this.snackBar.open("User Registered! Now, you can login","",{duration:3e3,horizontalPosition:"end",verticalPosition:"bottom"})},r=>{console.log("error at component",r),this.snackBar.open(`${r.message}`,"",{duration:3e3,horizontalPosition:"end",verticalPosition:"bottom"})})}initFormBuilder(){this.form=this.formBuilder.group({email:["",[i.kI.required,i.kI.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")]],codigo:["1",i.kI.required],password:["",[i.kI.required,this.regexValidator(new RegExp("(?=.*?[0-9])"),{"at-least-one-digit":!0}),this.regexValidator(new RegExp("(?=.*[a-z])"),{"at-least-one-lowercase":!0}),this.regexValidator(new RegExp("(?=.*[A-Z])"),{"at-least-one-uppercase":!0}),this.regexValidator(new RegExp("(?=.*[!@#$%^&*])"),{"at-least-one-special-character":!0}),this.regexValidator(new RegExp("(^.{8,}$)"),{"at-least-eight-characters":!0})]],passwordConfirmation:["",i.kI.required]},{validator:this.checkPasswords})}checkPasswords(r){return r.controls.password.value===r.controls.passwordConfirmation.value?null:{notSame:!0}}regexValidator(r,e){return s=>s.value?r.test(s.value)?null:e:null}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(h.e),t.Y36(i.qu),t.Y36(x.ux),t.Y36(l.gz),t.Y36(l.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-register"]],decls:32,vars:15,consts:[["fxHide.gt-xs","",1,"logo"],[1,"title"],[3,"formGroup","ngSubmit"],[3,"disabled"],["matInput","","type","email","placeholder","Email","formControlName","email"],["class","form-control-feedback",4,"ngIf"],["matInput","","type","text","placeholder","C\xf3digo","formControlName","codigo"],["matInput","","type","password","placeholder","Password","formControlName","password"],[4,"ngIf"],["matInput","","type","password","placeholder","Password (Confirm)","formControlName","passwordConfirmation",3,"errorStateMatcher"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],[1,"redirection"],[1,"text"],["routerLink","/auth/login",1,"link"],["class","loading",3,"diameter",4,"ngIf"],[1,"form-control-feedback"],[1,"loading",3,"diameter"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0),t._uU(1,"A"),t.qZA(),t.TgZ(2,"div",1),t._uU(3,"CREATE AN ACCOUNT"),t.qZA(),t.TgZ(4,"form",2),t.NdJ("ngSubmit",function(){return e.form.valid&&e.registerUser()}),t.TgZ(5,"fieldset",3),t.TgZ(6,"mat-form-field"),t._UZ(7,"input",4),t.YNc(8,I,2,0,"mat-error",5),t.YNc(9,y,2,0,"mat-error",5),t.qZA(),t.TgZ(10,"mat-form-field"),t._UZ(11,"input",6),t.YNc(12,E,2,0,"mat-error",5),t.qZA(),t.TgZ(13,"mat-form-field"),t._UZ(14,"input",7),t.YNc(15,J,2,0,"mat-error",5),t.YNc(16,N,4,0,"mat-error",8),t.YNc(17,R,4,0,"mat-error",8),t.YNc(18,S,4,0,"mat-error",8),t.YNc(19,Y,4,0,"mat-error",8),t.YNc(20,L,4,0,"mat-error",8),t.qZA(),t.TgZ(21,"mat-form-field"),t._UZ(22,"input",9),t.YNc(23,Q,2,0,"mat-error",5),t.qZA(),t.TgZ(24,"button",10),t._uU(25,"CREATE AN ACCOUNT"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(26,"div",11),t.TgZ(27,"span",12),t._uU(28,"Already have an account?"),t.qZA(),t.TgZ(29,"a",13),t._uU(30,"Login"),t.qZA(),t.qZA(),t.YNc(31,z,1,1,"mat-spinner",14)),2&r&&(t.xp6(4),t.Q6J("formGroup",e.form),t.xp6(1),t.Q6J("disabled",e.registerSubscription&&!e.registerSubscription.closed),t.xp6(3),t.Q6J("ngIf",e.form.controls.email.hasError("pattern")),t.xp6(1),t.Q6J("ngIf",e.form.controls.email.hasError("required")),t.xp6(3),t.Q6J("ngIf",e.form.controls.codigo.hasError("required")),t.xp6(3),t.Q6J("ngIf",e.form.controls.password.hasError("required")),t.xp6(1),t.Q6J("ngIf",e.form.controls.password.hasError("at-least-one-digit")),t.xp6(1),t.Q6J("ngIf",e.form.controls.password.hasError("at-least-one-lowercase")),t.xp6(1),t.Q6J("ngIf",e.form.controls.password.hasError("at-least-one-uppercase")),t.xp6(1),t.Q6J("ngIf",e.form.controls.password.hasError("at-least-one-special-character")),t.xp6(1),t.Q6J("ngIf",e.form.controls.password.hasError("at-least-eight-characters")),t.xp6(2),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.form.controls.passwordConfirmation.hasError("required")||e.form.hasError("notSame")),t.xp6(1),t.Q6J("disabled",e.registerSubscription&&!e.registerSubscription.closed||!e.form.valid),t.xp6(7),t.Q6J("ngIf",e.registerSubscription&&!e.registerSubscription.closed))},directives:[p.b8,i._Y,i.JL,i.sg,d.KE,C.Nt,i.Fj,i.JJ,i.u,_.O5,d.TO,Z.lW,l.yS,w.$g],styles:[".logo[_ngcontent-%COMP%]{width:128px;height:128px;line-height:128px;font-size:86px;font-weight:500;text-align:center;margin:32px auto;color:#fff;border-radius:2px;background:#039be5}.title[_ngcontent-%COMP%]{font-size:21px}form[_ngcontent-%COMP%]{width:100%;padding-top:32px}form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin:20px auto;display:block}.redirection[_ngcontent-%COMP%]{flex-direction:column;box-sizing:border-box;display:flex;max-width:100%;place-content:center;align-items:center;margin:32px auto 24px;width:250px}.loading[_ngcontent-%COMP%]{margin:16px auto}@media screen and (max-width: 599px){form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:80%}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:80%}}"]}),o})();const k=[{path:"",component:f,children:[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:v},{path:"register",component:T}]}];let B=(()=>{class o{}return o.components=[f,v,T],o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[l.Bz.forChild(k)],l.Bz]}),o})(),$=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[P.m,B]]}),o})()}}]);